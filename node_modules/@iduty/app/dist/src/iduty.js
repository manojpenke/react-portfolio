"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const client_1 = require("react-dom/client");
const set = (name, children) => {
    if (window.iduty[name])
        destroy(name);
    window.iduty[name] = (0, client_1.createRoot)(document.createElement('div'));
    window.iduty[name].render(children);
};
const get = (name) => {
    return window.iduty[name];
};
const destroy = (name) => {
    var _a, _b, _c;
    if (name) {
        (_c = (_b = (_a = window.iduty) === null || _a === void 0 ? void 0 : _a[name]) === null || _b === void 0 ? void 0 : _b.unmount) === null || _c === void 0 ? void 0 : _c.call(_b);
        window.iduty[name] = null;
    }
    else {
        Object.keys(window.iduty).forEach((v) => {
            var _a, _b, _c, _d, _e;
            ((_c = (_b = (_a = window.iduty) === null || _a === void 0 ? void 0 : _a[v]) === null || _b === void 0 ? void 0 : _b.ReactDOMRoot) === null || _c === void 0 ? void 0 : _c._internalRoot) && ((_e = (_d = window.iduty) === null || _d === void 0 ? void 0 : _d[v]) === null || _e === void 0 ? void 0 : _e.unmount());
            window.iduty[v] = null;
        });
    }
};
exports.default = {
    set,
    get,
    destroy,
};
