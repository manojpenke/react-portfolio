"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const _config_1 = __importDefault(require("@config"));
const getConfig = () => {
    const domain = /^http/.test(window.location.href) ? window.location.hostname : '';
    const ua = window.navigator.userAgent.toLowerCase();
    let env = 'prod';
    if (_config_1.default === null || _config_1.default === void 0 ? void 0 : _config_1.default.env) {
        env = _config_1.default.env;
    }
    else {
        if (domain) {
            env = (/fat\.|dev\.|test\./.test(domain)) ? 'test' : 'prod';
        }
        else {
            env = (ua.indexOf('env_test') > -1) ? 'test' : 'prod';
        }
    }
    const debug = (ua.indexOf('debug=true') > -1) ? true : false;
    const res = Object.assign({ env,
        debug }, ((_config_1.default === null || _config_1.default === void 0 ? void 0 : _config_1.default[env]) || {}));
    return res;
};
exports.default = Object.assign(Object.assign({ apiHost: '', domain: '', env: 'prod', debug: false }, _config_1.default), (getConfig() || {}));
