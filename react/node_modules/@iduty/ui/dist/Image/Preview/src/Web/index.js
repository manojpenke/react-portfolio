"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importDefault(require("react"));
const app_1 = require("@iduty/app");
const Preview_1 = __importDefault(require("../Preview"));
;
exports.default = (params) => {
    const images = [];
    let show = true;
    params.images.forEach((v, k) => {
        images.push({
            src: v,
            key: `img_${k}`
        });
    });
    const onHide = () => {
        show = false;
        setTimeout(() => {
            app_1.$iduty.destroy('iDutyPreviewImage');
        }, 500);
    };
    app_1.$iduty.set('iDutyPreviewImage', react_1.default.createElement(Preview_1.default, { show: show, images: images, start: params.start, onClose: onHide }));
};
